---
const { currentPath = Astro.url.pathname } = Astro.props;

// Logic to generate breadcrumbs from path
const segments = currentPath.split('/').filter(Boolean);
let breadcrumbList = [
  { name: 'Home', url: '/' }
];

let accumulatedPath = '';
segments.forEach((segment) => {
  accumulatedPath += `/${segment}`;
  // Simple capitalization for display, or more complex logic if needed
  const name = segment.charAt(0).toUpperCase() + segment.slice(1).replace(/-/g, ' ');
  breadcrumbList.push({ name, url: accumulatedPath + '/' });
});
---

<nav aria-label="Breadcrumb" class="container mx-auto px-4 py-4 text-sm text-gray-500">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList" class="flex flex-wrap items-center">
    {breadcrumbList.map((crumb, index) => (
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" class="flex items-center">
        {index > 0 && <span class="mx-2 text-gray-400">/</span>}
        <a itemprop="item" href={crumb.url} class="hover:text-primary transition-colors">
          <span itemprop="name">{crumb.name}</span>
        </a>
        <meta itemprop="position" content={String(index + 1)} />
      </li>
    ))}
  </ol>
</nav>
