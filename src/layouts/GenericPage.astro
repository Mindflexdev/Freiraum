---
import BaseLayout from './BaseLayout.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';
import { buildBreadcrumbSchema } from '../utils/schema';

const { frontmatter } = Astro.props;
const {
  title,
  description,
  robots,
  breadcrumbName,
  extraSchemas,
} = frontmatter || Astro.props;

// Schema: Breadcrumb + optionale zus√§tzliche Schemas (z.B. FAQPage, AboutPage)
const breadcrumbItems = [
  { name: 'Home', url: '/' },
  { name: breadcrumbName || title, url: Astro.url.pathname },
];

const schemas: object[] = [
  buildBreadcrumbSchema(breadcrumbItems),
  ...(extraSchemas || []),
];
---

<BaseLayout
  title={title}
  description={description}
  schemas={schemas}
  pageType="generic"
  robots={robots}
  showStickyCTA={true}
>
  <Breadcrumbs items={breadcrumbItems} />

  <section class="container-content py-12 max-w-3xl mx-auto prose prose-lg">
    <h1 class="mb-8">{title}</h1>
    <slot />
  </section>
</BaseLayout>
